<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="JiangChunbo&#39;s blog">
  <meta name="keyword" content="hexo-theme, vuejs">
  
    <link rel="shortcut icon" href="/css/images/logo.png">
  
  <title>
    
      Shiro æ¶æ„ | ğŸ¥«ğŸ
    
  </title>
  <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  
<link rel="stylesheet" href="/css/style.css">

  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.js"></script>
  
    
<script src="/js/qrious.js"></script>

  
  
  
  
    <!-- MathJax support START -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- MathJax support END -->
  


  
  
    
<script src="/js/local-search.js"></script>


<meta name="generator" content="Hexo 6.1.0"><link rel="alternate" href="/atom.xml" title="ğŸ¥«ğŸ" type="application/atom+xml">
</head>
<div class="wechat-share">
  <img src="/css/images/logo.png" />
</div>
  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>ğŸ¥«ğŸ</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">Home</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/categories/" class="item-link">Categories</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags/" class="item-link">Tags</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">Archives</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/project/" class="item-link">Projects</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">About</a>
          
        </li>
      
      
        <li class="menu-item menu-item-search right-list">
    <a role="button" class="popup-trigger">
        <i class="fa fa-search fa-fw"></i>
    </a>
</li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">Home</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/categories/" class="menu-link">Categories</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">Tags</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">Archives</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/project/" class="menu-link">Projects</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">About</a>
            
          </li>
        
      </ul>
    </div>
    
      <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
            <span class="search-icon">
                <i class="fa fa-search"></i>
            </span>
            <div class="search-input-container">
                <input autocomplete="off" autocapitalize="off"
                    placeholder="Please enter your keyword(s) to search." spellcheck="false"
                    type="search" class="search-input">
            </div>
            <span class="popup-btn-close">
                <i class="fa fa-times-circle"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>
    
  </div>
</header>

    <div id="article-banner">
  <h2>Shiro æ¶æ„</h2>
  <p class="post-date">2022-07-24</p>
  <div class="arrow-down">
    <a href="javascript:;"></a>
  </div>
</div>
<main class="app-body flex-box">
  <!-- Article START -->
  <article class="post-article">
    <section class="markdown-content"><h1 id="Shiro-æ¶æ„"><a href="#Shiro-æ¶æ„" class="headerlink" title="Shiro æ¶æ„"></a>Shiro æ¶æ„</h1><h2 id="Apache-Shiro-æ¶æ„"><a href="#Apache-Shiro-æ¶æ„" class="headerlink" title="Apache Shiro æ¶æ„"></a><a target="_blank" rel="noopener" href="https://shiro.apache.org/architecture.html">Apache Shiro æ¶æ„</a></h2><p>Apache Shiro çš„è®¾è®¡ç›®çš„å°±æ˜¯ï¼Œé€šè¿‡ç›´è§‚åŒ–ä¸”æ˜“äºä½¿ç”¨æ¥ç®€åŒ–åº”ç”¨ç¨‹åºå®‰å…¨æ€§ã€‚Shiro çš„æ ¸å¿ƒè®¾è®¡æ¨¡å‹åŒ–äº†å¤§å¤šæ•°äººè€ƒè™‘åº”ç”¨å®‰å…¨æ€§çš„æ–¹å¼ â€”â€” åœ¨æŸäººï¼ˆæˆ–æŸç‰©ï¼‰ä¸åº”ç”¨ç¨‹åºäº¤äº’çš„ä¸Šä¸‹æ–‡ä¸­ã€‚</p>
<p>è½¯ä»¶åº”ç”¨é€šå¸¸åŸºäºç”¨æˆ·æ•…äº‹è®¾è®¡çš„ã€‚å³ï¼Œä½ é€šå¸¸ä¼šæ ¹æ®ç”¨æˆ·å°†ä¼šï¼ˆæˆ–è€…åº”è¯¥ï¼‰å¦‚ä½•ä¸è½¯ä»¶äº¤äº’æ¥è®¾è®¡ç”¨æˆ·æ¥å£æˆ–è€…æœåŠ¡ APIã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½ä¼šè¯´ï¼Œâ€å¦‚æœä¸æˆ‘çš„è½¯ä»¶äº¤äº’çš„ç”¨æˆ·å·²ç»ç™»é™†äº†ï¼Œæˆ‘å°†å‘ä»–ä»¬å±•ç¤ºä¸€ä¸ªæŒ‰é’®ï¼Œä»–ä»¬å¯ä»¥ç‚¹æœºæŸ¥çœ‹å…¶è´¦æˆ·ä¿¡æ¯ã€‚å¦‚æœä»–ä»¬æœªç™»å½•ï¼Œæˆ‘å°†æ˜¾ç¤ºä¸€ä¸ªæ³¨å†ŒæŒ‰é’®â€ã€‚</p>
<p>è¯¥å®ä¾‹è¯­å¥æ ‡è¯†ï¼Œåº”ç”¨ç¨‹åºä¸»è¦æ˜¯ä¸ºäº†æ»¡è¶³ç”¨æˆ·éœ€æ±‚å’Œéœ€è¦è€Œå¤§é‡ç¼–å†™çš„ã€‚å³ä½¿â€œç”¨æˆ·â€æ˜¯å¦ä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿï¼Œä¸æ˜¯ä¸€ä¸ªäººç±»ï¼Œä½ ä»ç„¶å¯ä»¥ç¼–ç ï¼Œæ ¹æ®è°ï¼ˆæˆ–è€…ä»€ä¹ˆä¸œè¥¿ï¼‰ç›®å‰æ­£åœ¨ä¸ä½ çš„è½¯ä»¶è¿›è¡Œäº¤äº’åæ˜ è¡Œä¸ºã€‚</p>
<h3 id="é«˜çº§æ¦‚è¿°"><a href="#é«˜çº§æ¦‚è¿°" class="headerlink" title="é«˜çº§æ¦‚è¿°"></a>é«˜çº§æ¦‚è¿°</h3><img src="https://shiro.apache.org/images/ShiroBasicArchitecture.png">

<ul>
<li><strong>Subject</strong>: æ­£å¦‚æˆ‘ä»¬åœ¨æ•™ç¨‹ä¸­æåŠçš„ï¼Œ<code>Subject</code> æœ¬è´¨ä¸Šæ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œç”¨æˆ·çš„å®‰å…¨æ€§ç‰¹å®šâ€œè§†å›¾â€ã€‚å°½ç®¡è¯è¯­â€œç”¨æˆ·â€é€šå¸¸è¡¨ç¤ºä¸€ä¸ªäººï¼Œä½†æ˜¯ <code>Subject</code> å¯ä»¥æ˜¯ä¸€ä¸ªäººï¼Œä½†å®ƒä¹Ÿå¯ä»¥è¡¨ç¤ºç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œå®ˆæŠ¤è´¦æˆ·ï¼Œcron ä½œä¸šï¼Œæˆ–è€…ä»»ä½•ç±»ä¼¼çš„ä¸œè¥¿ â€”â€” åŸºæœ¬ä»»ä½•å½“å‰ä¸è½¯ä»¶äº¤äº’çš„ä¸œè¥¿ã€‚</li>
</ul>
<p><code>Subject</code> å®ä¾‹éƒ½ä¼šç»‘å®šåˆ°ï¼ˆä¸”éœ€è¦ï¼‰ä¸€ä¸ª <code>SecurityManager</code>ã€‚å½“ä½ å’Œä¸€ä¸ª <code>Subject</code> äº¤äº’æ—¶ï¼Œè¿™äº›äº¤äº’ä¼šè½¬æ¢ä¸ºç‰¹å®šäº subject çš„ä¸ <code>SecurityManager</code> çš„äº¤äº’ã€‚</p>
<ul>
<li><strong>SecurityManager</strong>: <code>SecurityManager</code> æ˜¯ Shiro æ¶æ„çš„æ ¸å¿ƒã€‚å®ƒä¸»è¦æ˜¯ä¸€ä¸ª â€œä¼â€ å¯¹è±¡ï¼Œå¯ä»¥åè°ƒå…¶ç®¡ç†çš„ç»„ä»¶ï¼Œç¡®ä¿ä»–ä»¬èƒ½é¡ºåºè¿è¡Œã€‚</li>
</ul>
<p>æˆ‘ä»¬å°†åœ¨ç¨åè¯¦ç»†è®¨è®º <code>SecurityManager</code>ï¼Œä½†æ˜¯é‡è¦çš„æ˜¯è¦æ„è¯†åˆ°ï¼Œå½“ä½ ä¸ <code>Subject</code> è¿›è¡Œäº’åŠ¨æ—¶ï¼Œå®é™…ä¸Šï¼Œå¹•åçš„ <code>SecurityManager</code> ä¸ºä»»ä½• <code>Subject</code> å®‰å…¨æ“ä½œåšäº†æ‰€æœ‰ç¹é‡çš„å·¥ä½œã€‚è¿™åæ˜ åœ¨ä¸Šé¢çš„åŸºæœ¬æµç¨‹å›¾ä¸­ã€‚</p>
<ul>
<li><strong>Realms</strong>: Realm å……å½“ Shiro ä¸ä½ åº”ç”¨ç¨‹åºå®‰å…¨æ€§æ•°æ®ä¹‹é—´çš„â€œæ¡¥æ¢â€æˆ–è€…è¿æ¥å™¨ã€‚</li>
</ul>
<p>ä»è¿™ä¸ªæ„ä¹‰ä¸Šè®²ï¼Œä¸€ä¸ª Realm æœ¬è´¨ä¸Šæ˜¯ä¸€ç§ç‰¹å®šäºå®‰å…¨æ€§çš„ DAO: å®ƒå°è£…äº†æ•°æ®æºçš„è¿æ¥ç»†èŠ‚ï¼Œå¹¶ä½¿å¾— Shiro åœ¨éœ€è¦æ—¶è·å¾—ç›¸å…³æ•°æ®ã€‚å½“é…ç½® Shiro æ—¶ï¼Œä½ å¿…é¡»è‡³å°‘æŒ‡å®šä¸€ä¸ªç”¨äºè®¤è¯ä»¥åŠï¼ˆæˆ–è€…ï¼‰æˆæƒçš„ Realmã€‚<code>SecurityManager</code> å¯ä»¥é…ç½®å¤šä¸ª Realmï¼Œä½†è‡³å°‘éœ€è¦é…ç½®ä¸€ä¸ªã€‚</p>
<h3 id="è¯¦ç»†æ¶æ„"><a href="#è¯¦ç»†æ¶æ„" class="headerlink" title="è¯¦ç»†æ¶æ„"></a><a target="_blank" rel="noopener" href="https://shiro.apache.org/architecture.html">è¯¦ç»†æ¶æ„</a></h3><p><img src="https://img-blog.csdnimg.cn/66b4aa43259d4065b55e1a631f72918c.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"></p>
<ul>
<li>Subject (<code>org.apache.shiro.subject.Subject</code>) å½“å‰æ­£åœ¨ä¸è½¯ä»¶äº¤äº’çš„ï¼Œç‰¹å®šå®‰å…¨çš„å®ä½“è§†å›¾ï¼ˆç”¨æˆ·ï¼Œç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œcron ä»»åŠ¡ç­‰ï¼‰</li>
<li>SecurityManager (<code>org.apache.shiro.mgt.SecurityManager</code>) å¦‚ä¸Šæ‰€è¿°ï¼Œ<code>SecurityManager</code> æ˜¯ Shiro æ¶æ„çš„æ ¸å¿ƒã€‚å®ƒä¸»è¦æ˜¯ä¸€ä¸ª â€œä¼â€ å¯¹è±¡ï¼Œå¯ä»¥åè°ƒå…¶ç®¡ç†çš„ç»„ä»¶ï¼Œç¡®ä¿ä»–ä»¬èƒ½é¡ºåºè¿è¡Œã€‚å®ƒè¿˜ç®¡ç†æ¯ä¸ªåº”ç”¨ç”¨æˆ·çš„è§†å›¾ï¼Œå› æ­¤å®ƒçŸ¥é“æ¯ä¸ªç”¨æˆ·å¦‚ä½•æ‰§è¡Œå®‰å…¨æ“ä½œã€‚</li>
<li>Authenticator (<code>org.apache.shiro.authc.Authenticator</code>) <code>Authenticator</code> æ˜¯è´Ÿè´£æ‰§è¡Œå’Œå“åº”ç”¨æˆ·çš„è®¤è¯ï¼ˆç™»å½•ï¼‰è¯·æ±‚çš„ç»„ä»¶ã€‚å½“ä¸€ä¸ªç”¨æˆ·å°è¯•ç™»å½•ï¼Œ<code>Authenticator</code> å°±ä¼šæ‰§è¡Œè¯¥é€»è¾‘ã€‚<code>Authenticator</code> çŸ¥é“å¦‚ä½•ä¸ä¸€ä¸ªæˆ–å¤šä¸ªå­˜å‚¨ç›¸å…³ç”¨æˆ·&#x2F;è´¦æˆ·ä¿¡æ¯çš„ <code>Realms</code> åä½œã€‚ç”¨ä»è¿™äº› <code>Realms</code> è·å¾—çš„æ•°æ®éªŒè¯ç”¨æˆ·èº«ä»½ï¼Œä¿è¯ç”¨æˆ·çš„ç¡®å¦‚ä»–ä»¬æ‰€è¯´ã€‚</li>
<li>Authorizer (<code>org.apache.shiro.authz.Authorizer</code>) <code>Authorizer</code> æ˜¯è´Ÿè´£ç¡®å®šç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºä¸­è®¿é—®æ§åˆ¶çš„ç»„ä»¶ã€‚å½’æ ¹ç»“åº•åœ°è¯´ï¼Œè¿™æ˜¯ä¸€ç§æœºåˆ¶ï¼Œåˆ¤æ–­æ˜¯å¦ç”¨æˆ·å…è®¸åšæŸäº‹ã€‚åƒ <code>Authenticator</code> ä¸€æ ·ï¼Œ<code>Authorizer</code> ä¹ŸçŸ¥é“å¦‚ä½•ä¸å¤šä¸ªåç«¯æ•°æ®æºåä½œï¼Œè®¿é—®è§’è‰²å’Œæƒé™ä¿¡æ¯ã€‚<code>Authorizer</code> ä½¿ç”¨è¿™äº›ä¿¡æ¯ï¼Œç¡®å®šæ˜¯å¦ç”¨æˆ·å…è®¸æ‰§è¡Œç»™å®šçš„æ“ä½œã€‚</li>
<li>SessionManager (<code>org.apache.shiro.session.mgt.SessionManager</code>) <code>SessionManager</code>  çŸ¥é“å¦‚ä½•åˆ›å»ºå’Œç®¡ç†ç”¨æˆ· <code>Session</code> ç”Ÿå‘½å‘¨æœŸï¼Œä¸ºæ‰€æœ‰ç¯å¢ƒä¸­çš„ç”¨æˆ·æä¾›å¼ºå¤§çš„ä¼šè¯ä½“éªŒã€‚è¿™æ˜¯å®‰å…¨æ¡†æ¶çš„ä¸–ç•Œç‹¬æœ‰çš„åŠŸèƒ½ï¼ŒShiro æœ‰èƒ½åŠ›æœ¬åœ°åŒ–åœ°ç®¡ç†ä»»ä½•ç¯å¢ƒä¸‹çš„ç”¨æˆ·ä¼šè¯ï¼Œå³ä½¿æ²¡æœ‰å¯ç”¨çš„ Web&#x2F;Servlet æˆ–è€… EJB å®¹å™¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒShiro å°†ä½¿ç”¨ç°æœ‰çš„ä¼šè¯æœºåˆ¶ï¼Œå¦‚æœå¯ç”¨ï¼Œï¼ˆä¾‹å¦‚ Servlet Containerï¼‰ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰ï¼Œä¾‹å¦‚åœ¨ä¸€ä¸ªç‹¬ç«‹åº”ç”¨æˆ–è€…é Web ç¯å¢ƒä¸‹ï¼Œå°†ä½¿ç”¨å…¶å†…å»ºçš„ä¼ä¸šä¼šè¯ç®¡ç†ï¼Œæä¾›ç›¸åŒçš„ç¼–ç¨‹ä½“éªŒã€‚<code>SessionDAO</code> å…è®¸ä½¿ç”¨ä»»ä½•æ•°æ®æºæŒä¹…åŒ– Sessionã€‚</li>
<li>CacheManager (<code>org.apache.shiro.cache.CacheManager</code>)</li>
<li>Cryptography (org.apache.shiro.crypto.*) </li>
<li>Realms (<code>org.apache.shiro.realm.Realm</code>) å¦‚ä¸Šæ‰€è¿°ï¼ŒRealms å……å½“ Shiro å’Œåº”ç”¨å®‰å…¨æ•°æ®ä¹‹é—´çš„ â€œæ¡¥æ¢â€ æˆ–è€… â€œè¿æ¥å™¨â€ã€‚å½“å®é™…éœ€è¦ä¸å®‰å…¨ç›¸å…³æ•°æ®ï¼ˆå°±åƒç”¨æˆ·è´¦æˆ·ï¼‰è¿›è¡Œäº¤äº’ï¼Œæ‰§è¡Œè®¤è¯ï¼ˆloginï¼‰ä»¥åŠæˆæƒï¼ˆè®¿é—®æ§åˆ¶ï¼‰çš„æ—¶å€™ï¼ŒShiro ä¼šä»ä¸€ä¸ªæˆ–å¤šä¸ªä¸ºåº”ç”¨é…ç½®çš„ Realms ä¸­æŸ¥æ‰¾è®¸å¤šç›¸å…³çš„æ•°æ®ã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦é…ç½®å°½å¯èƒ½å¤šçš„ <code>Realms</code>ï¼ˆé€šå¸¸æ¯ä¸ªæ•°æ®æºé…ä¸€ä¸ªï¼‰ï¼ŒShiro åœ¨è®¤è¯å’Œæˆæƒçš„æ—¶å€™ï¼Œæ ¹æ®éœ€è¦åè°ƒå®ƒä»¬ã€‚</li>
</ul>
<h3 id="Apache-Shiro-Web-Support"><a href="#Apache-Shiro-Web-Support" class="headerlink" title="Apache Shiro Web Support"></a><a target="_blank" rel="noopener" href="https://shiro.apache.org/web.html">Apache Shiro Web Support</a></h3><h3 id="Default-Filters"><a href="#Default-Filters" class="headerlink" title="Default Filters"></a>Default Filters</h3><h3 id="Session-Management"><a href="#Session-Management" class="headerlink" title="Session Management"></a>Session Management</h3><h4 id="Servlet-Container-Sessions"><a href="#Servlet-Container-Sessions" class="headerlink" title="Servlet Container Sessions"></a>Servlet Container Sessions</h4><p>åœ¨ Web ç¯å¢ƒä¸‹ï¼ŒShiro çš„é»˜è®¤ä¼šè¯ç®¡ç†å™¨ <code>SessionManager</code> çš„å®ç°æ˜¯ <code>ServletContainerSessionManager</code>ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€æ˜“çš„å®ç°ï¼Œå°†æ‰€æœ‰ä¼šè¯ç®¡ç†çš„èŒè´£ï¼ˆåŒ…æ‹¬ä¼šè¯é›†ç¾¤ï¼Œå¦‚æœ Servlet å®¹å™¨æ”¯æŒï¼‰å§”æ‰˜ç»™è¿è¡Œæ—¶çš„ Servlet å®¹å™¨ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯ Shiro ä¼šè¯ API åˆ° Servlet å®¹å™¨çš„æ¡¥æ¢ï¼Œå‡ ä¹æ²¡åšä»€ä¹ˆã€‚</p>
<h4 id="Native-Sessions"><a href="#Native-Sessions" class="headerlink" title="Native Sessions"></a>Native Sessions</h4><p>å¦‚æœä½ å¸Œæœ›ä¼šè¯é…ç½®è®¾ç½®ä»¥åŠé›†ç¾¤å¯ä»¥åœ¨ Servlet å®¹å™¨ä¸Šç§»æ¤ï¼Œæˆ–è€…ä½ æƒ³æ§åˆ¶ç‰¹å®šçš„ä¼šè¯&#x2F;é›†ç¾¤åŠŸèƒ½ï¼Œä½ å¯ä»¥å¯ç”¨ Shiro çš„æœ¬åœ°ä¼šè¯ç®¡ç†ã€‚</p>
<p>è¿™é‡Œ â€œNativeâ€ ä¸€è¯æ„å‘³ç€ï¼Œå°†ä¼šä½¿ç”¨ Shiro è‡ªå·±çš„ä¼ä¸šä¼šè¯ç®¡ç†å®ç°ï¼Œæ”¯æŒæ‰€æœ‰ <code>Subject</code> ä»¥åŠ <code>HttpServletRequest</code> ä¼šè¯ï¼Œå¹¶å®Œå…¨ç»•è¿‡ Servlet å®¹å™¨ã€‚ä½†æ˜¯ï¼Œè¯·æ”¾å¿ƒï¼ŒShiro ç›´æ¥å®ç°äº†ç›¸å…³çš„ Servlet è§„èŒƒéƒ¨åˆ†ï¼Œå› æ­¤ä»»ä½•ç°æœ‰çš„ web&#x2F;http ç›¸å…³ä»£ç éƒ½å¯ä»¥æŒ‰ç…§é¢„æœŸå·¥ä½œï¼Œå¹¶ä¸”ä¹Ÿä¸éœ€è¦çŸ¥é“ Shiro æ­£åœ¨é€æ˜åœ°ç®¡ç†ä¼šè¯ã€‚</p>
<h5 id="DefaultWebSessionManager"><a href="#DefaultWebSessionManager" class="headerlink" title="DefaultWebSessionManager"></a><code>DefaultWebSessionManager</code></h5></section>
    <!-- Tags START -->
    
    <!-- Tags END -->
    <!-- NAV START -->
    
  <div class="nav-container">
    <!-- reverse left and right to put prev and next in a more logic postition -->
    
      <a class="nav-left" href="/2022/07/23/Shiro/ShiroFilter%20%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B/">
        <span class="nav-arrow">â† </span>
        
          ShiroFilter æ‰§è¡Œæµç¨‹
        
      </a>
    
    
      <a class="nav-right" href="/2022/07/24/%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E2%80%94%E2%80%94%E4%BA%8C%E5%8F%89%E6%A0%91/">
        
          æ•°æ®ç»“æ„â€”â€”äºŒå‰æ ‘
        
        <span class="nav-arrow"> â†’</span>
      </a>
    
  </div>

    <!-- NAV END -->
    <!-- æ‰“èµ START -->
    
      <div class="money-like">
        <div class="reward-btn">
          èµ
          <span class="money-code">
            <span class="alipay-code">
              <div class="code-image"></div>
              <b>ä½¿ç”¨æ”¯ä»˜å®æ‰“èµ</b>
            </span>
            <span class="wechat-code">
              <div class="code-image"></div>
              <b>ä½¿ç”¨å¾®ä¿¡æ‰“èµ</b>
            </span>
          </span>
        </div>
        <p class="notice">è‹¥ä½ è§‰å¾—æˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¯¹æˆ‘æ‰“èµ</p>
      </div>
    
    <!-- æ‰“èµ END -->
    <!-- äºŒç»´ç  START -->
    
      <div class="qrcode">
        <canvas id="share-qrcode"></canvas>
        <p class="notice">æ‰«æäºŒç»´ç ï¼Œåˆ†äº«æ­¤æ–‡ç« </p>
      </div>
    
    <!-- äºŒç»´ç  END -->
    
      <!-- Utterances START -->
      <div id="utterances"></div>
      <script src="https://utteranc.es/client.js"
        repo="JiangChunbo/jiangchunbo.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async></script>
      <!-- Utterances END -->
    
  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
    <aside class="catalog-container">
  <div class="toc-main">
    <strong class="toc-title">Catalog</strong>
    
      <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#Shiro-%E6%9E%B6%E6%9E%84"><span class="toc-nav-text">Shiro æ¶æ„</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Apache-Shiro-%E6%9E%B6%E6%9E%84"><span class="toc-nav-text">Apache Shiro æ¶æ„</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%AB%98%E7%BA%A7%E6%A6%82%E8%BF%B0"><span class="toc-nav-text">é«˜çº§æ¦‚è¿°</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E8%AF%A6%E7%BB%86%E6%9E%B6%E6%9E%84"><span class="toc-nav-text">è¯¦ç»†æ¶æ„</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Apache-Shiro-Web-Support"><span class="toc-nav-text">Apache Shiro Web Support</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Default-Filters"><span class="toc-nav-text">Default Filters</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Session-Management"><span class="toc-nav-text">Session Management</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Servlet-Container-Sessions"><span class="toc-nav-text">Servlet Container Sessions</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Native-Sessions"><span class="toc-nav-text">Native Sessions</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#DefaultWebSessionManager"><span class="toc-nav-text">DefaultWebSessionManager</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>
    
  </div>
</aside>
  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'http://example.com/2022/07/24/Shiro/Shiro-æ¶æ„/';
    var banner = ''
    if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }
    $('.header').removeClass('fixed-header')

    // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', '/css/images/error_icon.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== '/css/images/error_icon.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()

        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })
  })();
</script>


  <script>
    var qr = new QRious({
      element: document.getElementById('share-qrcode'),
      value: document.location.href
    });
  </script>






    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
  <p class="copyright">
    &copy; 2022 | Proudly powered by <a href="https://hexo.io" target="_blank">Hexo</a>
    <br>
    Theme by <a target="_blank" rel="noopener" href="https://github.com/yanm1ng">yanm1ng</a>
    
  </p>
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>
<script>
  async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'true';
  async("//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine === 'false') {
        figure.find('.gutter').hide();
      }
      hljs.configure({useBR: true});
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>
<!-- Baidu Tongji -->


<script src="/js/script.js"></script>


  </body>
</html>